<!DOCTYPE html>
<html ng-app="demo">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
  <style type="text/css" media="screen">
    .btn-outside-group{
      display: inline-block;
    }
    .q-status:empty{
      display: none!important;
    }
  </style>
  <link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="/style/button.css">
  <link rel="stylesheet" href="/style/demo.css">
  <link rel="stylesheet" href="https://i.icomoon.io/public/temp/2605c25a08/UntitledProject/style.css">
  
  <script src="/angular/angular.js" type="text/javascript" charset="utf-8"></script>
  <script src="/core/public.js" type="text/javascript" charset="utf-8"></script>
  <script src="/core/controller.js" type="text/javascript" charset="utf-8"></script>
  <script src="/core/promise.js" type="text/javascript" charset="utf-8"></script>
  <script src="/core/group.js" type="text/javascript" charset="utf-8"></script>
  <script src="/core/event.js" type="text/javascript" charset="utf-8"></script>
  <script src="/core/status.js" type="text/javascript" charset="utf-8"></script>


  <script src="/button/module.js" type="text/javascript" charset="utf-8"></script>
</head>
<body ng-controller="demoCtrl">

<!--   <button type="button" class="btn btn-inside" q-click="btnC()">inside btn </button>
  <div class="btn-outside-group">
    <button type="button" class="btn" q-click="btnC()">outside btn group</button>
  </div> -->


  <div q-init="btnC()" q-group >
    <div class="q-status" >
      <i q-status-loading class="icon-spinner9"> </i>
    </div>
    <div class="q-cloak">
      xxxxxxxx
    </div>
  </div>

  <script type="text/javascript" charset="utf-8">
  angular.module('demo',['ng','ng-loading','q-button']).controller('demoCtrl', ['$q','$scope','$timeout',function ($q,$scope,$timeout) {
      var i = 0;
      function makePromise(deferred,resolve,value){
        if (resolve)
          deferred.resolve(value)
        else 
          deferred.reject(value)
      }
      $scope.btnC = function(){
        var deferred = $q.defer()
        var promise = deferred.promise
        i = (i%2) + 1;
        console.log(i);
        if(i%2 === 0 ){
          $timeout(function(){
            makePromise(deferred,true)
          },10000)
        }else {
          $timeout(function(){
            makePromise(deferred,false)
          },10000)
        }
        return promise
      }
  }])
  </script>

  <script src="//localhost:35729/livereload.js"></script>
</body>
</html>